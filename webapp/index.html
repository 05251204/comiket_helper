<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Comi-Navi C106</title>
    <link rel="stylesheet" href="style.css" />
    <!-- ドット文字フォント -->
    <link
      href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="app-container">
      <header>
        <h1>Comi-Navi <span>C106</span></h1>
      </header>

      <!-- 設定・現在地エリア -->
      <section class="card config-card">
        <div class="gas-input-group">
          <input type="text" id="gas-url-input" placeholder="GAS Web App URL" />
          <button id="refresh-data-btn" class="icon-btn">↻</button>
        </div>

        <div class="location-group">
          <label>現在地</label>
          <div class="select-row">
            <select id="current-ewsn" class="pill-input">
              <option value="東456">東456</option>
              <option value="東7">東7</option>
              <option value="西12">西12</option>
              <option value="南12">南12</option>
            </select>
            <select id="current-label" class="pill-input">
              <!-- JSで自動生成されます -->
            </select>
            <input
              type="number"
              id="current-number"
              value="1"
              class="pill-input"
              inputmode="numeric"
            />
          </div>
        </div>

        <div class="stats-row">
          <div class="stat-item">東456<span id="count-E456">0</span></div>
          <div class="stat-item">東7<span id="count-E7">0</span></div>
          <div class="stat-item">西12<span id="count-W12">0</span></div>
          <div class="stat-item">南12<span id="count-S12">0</span></div>
          <div class="stat-item warning" id="hold-counter-container">
            保留<span id="count-hold">0</span>
          </div>
        </div>

        <button id="search-button" class="primary-btn">次の目的地を検索</button>
        <p id="loading"></p>
      </section>

      <!-- フッター用余白 -->
      <div style="height: 350px"></div>

      <!-- 固定フッター -->
      <section id="target-info" class="card target-card" style="display: none">
        <div class="target-header">
          <span class="sub-label">NEXT TARGET</span>
          <h2 id="target-space-heading">---</h2>
        </div>

        <!-- Canvas マップ -->
        <div class="canvas-container">
          <canvas id="map-radar" width="300" height="120"></canvas>
        </div>

        <div class="target-meta">
          <div class="meta-item">
            <span class="label">距離</span>
            <span class="value" id="target-distance">-</span>
          </div>
          <div class="meta-item">
            <span class="label">優先度</span>
            <span class="value" id="target-priority">-</span>
          </div>
          <div class="meta-item">
            <span class="label">Twitter</span>
            <a id="target-user" href="#" target="_blank" class="value link"
              >Link</a
            >
          </div>
        </div>

        <div class="action-buttons">
          <button id="purchased-btn" class="action-btn success">購入済</button>
          <button id="hold-btn" class="action-btn warning">保留</button>
        </div>

        <div class="sub-actions">
          <button id="undo-btn" class="text-btn">↩ 戻す</button>
          <button id="reset-list-btn" class="text-btn danger">リセット</button>
        </div>

        <div id="target-tweet-container" class="tweet-embed"></div>
      </section>
    </div>

    <div id="feedback-toast"></div>

    <!-- シンプルな読み込みに戻しました -->
    <script src="app.js"></script>
    <script
      async
      src="https://platform.twitter.com/widgets.js"
      charset="utf-8"
    ></script>
  </body>
</html>
